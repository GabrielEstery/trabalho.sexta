<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agenda</title>
    <link rel="stylesheet" href="../../style/style.css">
</head>
<body>
    <header>
        <div class="header-content">
            <button id="backBtn" onclick="history.back()">Voltar</button>
            <h1>Agenda de Consultas</h1>
        </div>
    </header>
    
    <main>
        <section id="agenda">
            <h2>Consultas Agendadas</h2>
            <div class="consultas" id="consultas">
                <!-- Consultas serão listadas aqui -->
                <div class="consulta">
                    <p>Data: 21/06/2024</p>
                    <p>Hora: 10:00</p>
                    <p>Paciente: João da Silva</p>
                    <p>WhatsApp: <a href="https://wa.me/5511912345678" target="_blank">5511912345678</a></p>
                    <p>Email: <a href="mailto:joao@example.com">joao@example.com</a></p>
                    <button>Editar</button>
                    <button>Excluir</button>
                </div>
                <div class="consulta">
                    <p>Data: 04/07/2024</p>
                    <p>Hora: 09:00</p>
                    <p>Paciente: Maria de Oliveira</p>
                    <p>WhatsApp: <a href="https://wa.me/5411912348765" target="_blank">5411912348765</a></p>
                    <p>Email: <a href="mailto:joao@example.com">maria@example.com</a></p>
                    <button>Editar</button>
                    <button>Excluir</button>
                </div>
                <!-- Adicionar mais consultas conforme necessário -->
            </div>
            <button id="addConsultaBtn">Adicionar Consulta</button>
        </section>
    </main>
    
    <footer>
        <p>&copy; 2024 Consultório Psicológico. Todos os direitos reservados.</p>
    </footer>

    <script>
        document.getElementById('addConsultaBtn').addEventListener('click', function() {
            const consultaDiv = document.createElement('div');
            consultaDiv.className = 'consulta';
            consultaDiv.innerHTML = `
                <p>Data: <input type="date" name="data"></p>
                <p>Hora: <input type="time" name="hora"></p>
                <p>Paciente: <input type="text" name="paciente"></p>
                <p>WhatsApp: <input type="text" name="whatsapp"></p>
                <p>Email: <input type="email" name="email"></p>
                <button>Salvar</button>
                <button>Cancelar</button>
            `;
            document.getElementById('consultas').appendChild(consultaDiv);

            const saveButton = consultaDiv.querySelector('button:first-of-type');
            saveButton.addEventListener('click', function() {
                const data = consultaDiv.querySelector('input[name="data"]').value;
                const hora = consultaDiv.querySelector('input[name="hora"]').value;
                const paciente = consultaDiv.querySelector('input[name="paciente"]').value;
                const whatsapp = consultaDiv.querySelector('input[name="whatsapp"]').value;
                const email = consultaDiv.querySelector('input[name="email"]').value;

                consultaDiv.innerHTML = `
                    <p>Data: ${data}</p>
                    <p>Hora: ${hora}</p>
                    <p>Paciente: ${paciente}</p>
                    <p>WhatsApp: <a href="https://wa.me/${whatsapp}" target="_blank">${whatsapp}</a></p>
                    <p>Email: <a href="mailto:${email}">${email}</a></p>
                    <button>Editar</button>
                    <button>Excluir</button>
                `;

                const editButton = consultaDiv.querySelector('button:first-of-type');
                const deleteButton = consultaDiv.querySelector('button:last-of-type');

                editButton.addEventListener('click', function() {
                    consultaDiv.innerHTML = `
                        <p>Data: <input type="date" name="data" value="${data}"></p>
                        <p>Hora: <input type="time" name="hora" value="${hora}"></p>
                        <p>Paciente: <input type="text" name="paciente" value="${paciente}"></p>
                        <p>WhatsApp: <input type="text" name="whatsapp" value="${whatsapp}"></p>
                        <p>Email: <input type="email" name="email" value="${email}"></p>
                        <button>Salvar</button>
                        <button>Cancelar</button>
                    `;
                });

                deleteButton.addEventListener('click', function() {
                    consultaDiv.remove();
                });
            });

            const cancelButton = consultaDiv.querySelector('button:last-of-type');
            cancelButton.addEventListener('click', function() {
                consultaDiv.remove();
            });
        });
    </script>
</body>
</html>
